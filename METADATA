# Format: google3/devtools/metadata/metadata.proto (go/google3metadata)

name: "Deep Molecular MassSpec"
description: "Mass spectrometry for small molecules using deep learning."

# TODO(dbelanger) add a github url when the project becomes public
third_party {
  url {
    type: PIPER
    value: "http://google3/learning/brain/research/massspec/organic_molecule/"
  }
}

presubmit: {
  path_expression: "//depot/google3/third_party/py/deep_molecular_massspec/..."
  review_notify: "mdb.organic-molecule-massspec"

  check_do_not_submit: {
    action: SUBMIT
  }
}

# Ensures that all CLs are tested using TAP.
presubmit: {
  check_tests: {
    # TAP projects to test with.
    project: "deep_molecular_massspec"

    # Prevent submitting without using tap_presubmit.
    failure_status: ERROR

    # When sending a CL for review, send the CL to TAP as well.
    review_execute: true
    review_execute_mode: ASYNCHRONOUS

    # When trying to submit a CL, run the tests on TAP
  }
}

# Ensures that the string "do not submit" (in all caps) is not present.
presubmit: {
  check_do_not_submit: {
    action: SUBMIT
  }
}

presubmit: {
  check_lint: {
    action: SUBMIT
    failure_status: ERROR
  }
}
